{"ast":null,"code":"import _objectWithoutProperties from\"/home/savera/letmefit/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"/home/savera/letmefit/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/savera/letmefit/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _excluded=[\"showPassword\"];import React from\"react\";import{Card,CardContent,Typography,TextField,InputAdornment,IconButton,OutlinedInput,FormControl,InputLabel}from\"@mui/material\";import LoadingButton from\"@mui/lab/LoadingButton\";import{Visibility,VisibilityOff,LockOpen}from\"@mui/icons-material\";import useSignupUser from\"query/userQueries/useSignupUser\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignupForm=function SignupForm(){var userToken=localStorage.getItem(\"token\");var _React$useState=React.useState({email:\"\",password:\"\",showPassword:false}),_React$useState2=_slicedToArray(_React$useState,2),values=_React$useState2[0],setValues=_React$useState2[1];var _useSignupUser=useSignupUser(),signupMutation=_useSignupUser.mutate,isLoading=_useSignupUser.isLoading;var handleEmailChange=function handleEmailChange(e){e.preventDefault();setValues(function(prev){return _objectSpread(_objectSpread({},prev),{},{email:e.target.value});});};var handlePasswordChange=function handlePasswordChange(e){e.preventDefault();setValues(function(prev){return _objectSpread(_objectSpread({},prev),{},{password:e.target.value});});};var handleClickShowPassword=function handleClickShowPassword(){setValues(_objectSpread(_objectSpread({},values),{},{showPassword:!values.showPassword}));};var handleSubmit=function handleSubmit(){var showPassword=values.showPassword,rest=_objectWithoutProperties(values,_excluded);signupMutation(rest);};var handleMouseDownPassword=function handleMouseDownPassword(event){event.preventDefault();};return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"div\",children:\"Sign up\"}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Email\",name:\"Email\",margin:\"normal\",variant:\"outlined\",fullWidth:true,onChange:handleEmailChange}),/*#__PURE__*/_jsxs(FormControl,{sx:{m:\"0.5rem 0px 2rem 0px\",width:\"100%\"},variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"outlined-adornment-password\",children:\"Password\"}),/*#__PURE__*/_jsx(OutlinedInput,{id:\"outlined-adornment-password\",label:\"Password\",name:\"Password\",onChange:handlePasswordChange,endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"toggle password visibility\",onClick:handleClickShowPassword,onMouseDown:handleMouseDownPassword,edge:\"end\",children:values.showPassword?/*#__PURE__*/_jsx(VisibilityOff,{}):/*#__PURE__*/_jsx(Visibility,{})})}),fullWidth:true})]}),/*#__PURE__*/_jsx(LoadingButton,{variant:\"contained\",endIcon:/*#__PURE__*/_jsx(LockOpen,{}),onClick:handleSubmit,loading:isLoading,loadingPosition:\"end\",children:\"Sign up\"})]})});};export default SignupForm;","map":{"version":3,"names":["React","Card","CardContent","Typography","TextField","InputAdornment","IconButton","OutlinedInput","FormControl","InputLabel","LoadingButton","Visibility","VisibilityOff","LockOpen","useSignupUser","SignupForm","userToken","localStorage","getItem","useState","email","password","showPassword","values","setValues","signupMutation","mutate","isLoading","handleEmailChange","e","preventDefault","prev","target","value","handlePasswordChange","handleClickShowPassword","handleSubmit","rest","handleMouseDownPassword","event","m","width"],"sources":["/home/savera/letmefit/client/src/components/loginPage/SignupForm.tsx"],"sourcesContent":["import React from \"react\";\nimport {\n  Card,\n  CardContent,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n  OutlinedInput,\n  FormControl,\n  InputLabel,\n} from \"@mui/material\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\nimport { Visibility, VisibilityOff, LockOpen } from \"@mui/icons-material\";\nimport { SignupDataType } from \"./types\";\nimport useSignupUser from \"query/userQueries/useSignupUser\";\nimport { Navigate } from \"react-router-dom\";\n\nconst SignupForm = () => {\n  const userToken = localStorage.getItem(\"token\");\n\n  const [values, setValues] = React.useState<SignupDataType>({\n    email: \"\",\n    password: \"\",\n    showPassword: false,\n  });\n\n  const { mutate: signupMutation, isLoading } = useSignupUser();\n\n  const handleEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    e.preventDefault();\n    setValues((prev) => ({\n      ...prev,\n      email: e.target.value,\n    }));\n  };\n\n  const handlePasswordChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    e.preventDefault();\n    setValues((prev) => ({\n      ...prev,\n      password: e.target.value,\n    }));\n  };\n\n  const handleClickShowPassword = () => {\n    setValues({\n      ...values,\n      showPassword: !values.showPassword,\n    });\n  };\n\n  const handleSubmit = () => {\n    const { showPassword, ...rest } = values;\n    signupMutation(rest);\n  };\n\n  const handleMouseDownPassword = (\n    event: React.MouseEvent<HTMLButtonElement>\n  ) => {\n    event.preventDefault();\n  };\n\n  return (\n    <Card>\n      <CardContent>\n        <Typography gutterBottom variant=\"h5\" component=\"div\">\n          Sign up\n        </Typography>\n        <TextField\n          id=\"outlined-basic\"\n          label=\"Email\"\n          name=\"Email\"\n          margin=\"normal\"\n          variant=\"outlined\"\n          fullWidth\n          onChange={handleEmailChange}\n        />\n        <FormControl\n          sx={{ m: \"0.5rem 0px 2rem 0px\", width: \"100%\" }}\n          variant=\"outlined\"\n        >\n          <InputLabel htmlFor=\"outlined-adornment-password\">\n            Password\n          </InputLabel>\n          <OutlinedInput\n            id=\"outlined-adornment-password\"\n            label=\"Password\"\n            name=\"Password\"\n            onChange={handlePasswordChange}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  aria-label=\"toggle password visibility\"\n                  onClick={handleClickShowPassword}\n                  onMouseDown={handleMouseDownPassword}\n                  edge=\"end\"\n                >\n                  {values.showPassword ? <VisibilityOff /> : <Visibility />}\n                </IconButton>\n              </InputAdornment>\n            }\n            fullWidth\n          />\n        </FormControl>\n        <LoadingButton\n          variant=\"contained\"\n          endIcon={<LockOpen />}\n          onClick={handleSubmit}\n          loading={isLoading}\n          loadingPosition=\"end\"\n        >\n          Sign up\n        </LoadingButton>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default SignupForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}