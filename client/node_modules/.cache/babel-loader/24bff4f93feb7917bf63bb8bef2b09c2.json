{"ast":null,"code":"import _slicedToArray from\"/home/savera/letmefit/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/home/savera/letmefit/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,forwardRef,useEffect,useState}from\"react\";import Snackbar from\"@mui/material/Snackbar\";import MuiAlert from\"@mui/material/Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Alert=/*#__PURE__*/forwardRef(function Alert(props,ref){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,ref:ref,variant:\"filled\"},props));});var AuthContext=/*#__PURE__*/createContext({userData:{token:\"\",email:\"\"},snackbarState:{open:false,vertical:\"top\",horizontal:\"right\",message:\"\"},addUser:function addUser(){return;},clearUser:function clearUser(){return;},handleCloseSnackbar:function handleCloseSnackbar(){return;},triggerSnackbar:function triggerSnackbar(){return;}});export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useState=useState({token:\"\",email:\"\"}),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState({open:false,vertical:\"top\",horizontal:\"right\",message:\"\"}),_useState4=_slicedToArray(_useState3,2),snackbarState=_useState4[0],setSnackbarState=_useState4[1];useEffect(function(){var userToken=localStorage.getItem(\"token\");var userEmail=localStorage.getItem(\"email\");if(userToken&&userEmail){setUserData({token:userToken,email:userEmail});}},[]);var addUser=function addUser(data){setUserData(data);};var clearUser=function clearUser(){setUserData({token:\"\",email:\"\"});};var handleCloseSnackbar=function handleCloseSnackbar(){setSnackbarState(function(prev){return _objectSpread(_objectSpread({},prev),{},{open:false});});};var triggerSnackbar=function triggerSnackbar(message){setSnackbarState(function(prev){return _objectSpread(_objectSpread({},prev),{},{open:true,message:message});});};return/*#__PURE__*/_jsxs(AuthContext.Provider,{value:{userData:userData,addUser:addUser,clearUser:clearUser,snackbarState:snackbarState,handleCloseSnackbar:handleCloseSnackbar,triggerSnackbar:triggerSnackbar},children:[children,/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:snackbarState.vertical,horizontal:snackbarState.horizontal},autoHideDuration:6000,open:snackbarState.open,onClose:handleCloseSnackbar,children:/*#__PURE__*/_jsx(Alert,{onClose:handleCloseSnackbar,severity:\"success\",sx:{width:\"100%\"},children:snackbarState.message})},snackbarState.vertical+snackbarState.horizontal)]});};export default AuthContext;","map":{"version":3,"names":["createContext","forwardRef","useEffect","useState","Snackbar","MuiAlert","Alert","props","ref","AuthContext","userData","token","email","snackbarState","open","vertical","horizontal","message","addUser","clearUser","handleCloseSnackbar","triggerSnackbar","AuthContextProvider","children","setUserData","setSnackbarState","userToken","localStorage","getItem","userEmail","data","prev","width"],"sources":["/home/savera/letmefit/client/src/context/AuthContext.tsx"],"sourcesContent":["import {\n  createContext,\n  forwardRef,\n  FC,\n  useEffect,\n  useState,\n  useContext,\n} from \"react\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport MuiAlert, { AlertProps } from \"@mui/material/Alert\";\nimport { Props, SnackbarStateType, StateType, ContextStateType } from \"./types\";\n\nconst Alert = forwardRef<HTMLDivElement, AlertProps>(function Alert(\n  props,\n  ref\n) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nconst AuthContext = createContext<ContextStateType>({\n  userData: { token: \"\", email: \"\" },\n  snackbarState: {\n    open: false,\n    vertical: \"top\",\n    horizontal: \"right\",\n    message: \"\",\n  },\n  addUser: () => {\n    return;\n  },\n  clearUser: () => {\n    return;\n  },\n  handleCloseSnackbar: () => {\n    return;\n  },\n  triggerSnackbar: () => {\n    return;\n  },\n});\n\nexport const AuthContextProvider: FC<Props> = ({ children }) => {\n  const [userData, setUserData] = useState<StateType>({ token: \"\", email: \"\" });\n  const [snackbarState, setSnackbarState] = useState<SnackbarStateType>({\n    open: false,\n    vertical: \"top\",\n    horizontal: \"right\",\n    message: \"\",\n  });\n  useEffect(() => {\n    const userToken = localStorage.getItem(\"token\");\n    const userEmail = localStorage.getItem(\"email\");\n    if (userToken && userEmail) {\n      setUserData({\n        token: userToken,\n        email: userEmail,\n      });\n    }\n  }, []);\n\n  const addUser = (data: StateType) => {\n    setUserData(data);\n  };\n  const clearUser = () => {\n    setUserData({ token: \"\", email: \"\" });\n  };\n  const handleCloseSnackbar = () => {\n    setSnackbarState((prev) => ({\n      ...prev,\n      open: false,\n    }));\n  };\n  const triggerSnackbar = (message: string) => {\n    setSnackbarState((prev) => ({\n      ...prev,\n      open: true,\n      message,\n    }));\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        userData,\n        addUser,\n        clearUser,\n        snackbarState,\n        handleCloseSnackbar,\n        triggerSnackbar,\n      }}\n    >\n      {children}\n      <Snackbar\n        anchorOrigin={{\n          vertical: snackbarState.vertical,\n          horizontal: snackbarState.horizontal,\n        }}\n        autoHideDuration={6000}\n        open={snackbarState.open}\n        onClose={handleCloseSnackbar}\n        key={snackbarState.vertical + snackbarState.horizontal}\n      >\n        <Alert\n          onClose={handleCloseSnackbar}\n          severity=\"success\"\n          sx={{ width: \"100%\" }}\n        >\n          {snackbarState.message}\n        </Alert>\n      </Snackbar>\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthContext;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}