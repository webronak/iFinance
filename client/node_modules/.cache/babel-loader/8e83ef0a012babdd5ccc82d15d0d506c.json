{"ast":null,"code":"import _slicedToArray from\"/home/savera/letmefit/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext}from\"react\";import{BrandName,NavbarContainer,StyleLink,LogoutButton}from\"./styles\";import{ToggleButtonGroup,ButtonGroup,Button,ToggleButton}from\"@mui/material\";import AuthContext from\"context/AuthContext\";import{dashboardIncomeRoute,dashboardExpensesRoute,dashboardInvestmentsRoute,dashboardRoute,userSignupRoute,userLoginRoute}from\"routes/pageRoutes\";import{useNavigate}from\"react-router-dom\";// import  {useLoginUser} from \"query/userQueries/useLoginUser\"\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(){var _React$useState=React.useState(\"login\"),_React$useState2=_slicedToArray(_React$useState,2),formSelect=_React$useState2[0],setformSelect=_React$useState2[1];var _useContext=useContext(AuthContext),userData=_useContext.userData,clearUser=_useContext.clearUser;var navigate=useNavigate();var userToken=localStorage.getItem(\"token\");var handleLogout=function handleLogout(){localStorage.removeItem(\"token\");localStorage.removeItem(\"email\");clearUser();navigate(\"/login\",{replace:true});window.location.reload();};var handleAlignment=function handleAlignment(event,newAlignment){setformSelect(newAlignment);};return/*#__PURE__*/_jsxs(NavbarContainer,{maxWidth:\"xl\",children:[/*#__PURE__*/_jsx(BrandName,{children:\"iFinance\"}),userToken?/*#__PURE__*/_jsxs(ButtonGroup,{variant:\"outlined\",\"aria-label\":\"outlined button group\",children:[/*#__PURE__*/_jsx(StyleLink,{to:dashboardRoute,children:/*#__PURE__*/_jsx(Button,{children:\"Over All\"})}),/*#__PURE__*/_jsx(StyleLink,{to:dashboardIncomeRoute,children:/*#__PURE__*/_jsx(Button,{children:\"Incomes\"})}),/*#__PURE__*/_jsx(StyleLink,{to:dashboardExpensesRoute,children:/*#__PURE__*/_jsx(Button,{children:\"Expenses\"})}),/*#__PURE__*/_jsx(StyleLink,{to:dashboardInvestmentsRoute,children:/*#__PURE__*/_jsx(Button,{children:\"Investments\"})})]}):/*#__PURE__*/_jsxs(ToggleButtonGroup,{value:formSelect,onChange:handleAlignment,\"aria-label\":\"form select\",children:[/*#__PURE__*/_jsx(StyleLink,{to:userSignupRoute,children:/*#__PURE__*/_jsx(ToggleButton,{value:\"sign up\",\"aria-label\":\"sign up\",children:\"sign up\"})}),/*#__PURE__*/_jsx(StyleLink,{to:userLoginRoute,children:/*#__PURE__*/_jsx(ToggleButton,{value:\"login\",\"aria-label\":\"login\",children:\"login\"})})]}),(userData===null||userData===void 0?void 0:userData.token)&&/*#__PURE__*/_jsx(LogoutButton,{onClick:handleLogout,children:\"Logout\"})]});};export default Navbar;","map":{"version":3,"names":["React","useContext","BrandName","NavbarContainer","StyleLink","LogoutButton","ToggleButtonGroup","ButtonGroup","Button","ToggleButton","AuthContext","dashboardIncomeRoute","dashboardExpensesRoute","dashboardInvestmentsRoute","dashboardRoute","userSignupRoute","userLoginRoute","useNavigate","Navbar","useState","formSelect","setformSelect","userData","clearUser","navigate","userToken","localStorage","getItem","handleLogout","removeItem","replace","window","location","reload","handleAlignment","event","newAlignment","token"],"sources":["/home/savera/letmefit/client/src/components/common/navbar/Navbar.tsx"],"sourcesContent":["import React, { useEffect, useContext } from \"react\";\nimport { BrandName, NavbarContainer, StyleLink, LogoutButton } from \"./styles\";\nimport {\n  ToggleButtonGroup,\n  ButtonGroup,\n  Button,\n  ToggleButton,\n} from \"@mui/material\";\nimport AuthContext from \"context/AuthContext\";\nimport {\n  dashboardIncomeRoute,\n  dashboardExpensesRoute,\n  dashboardInvestmentsRoute,\n  dashboardRoute,\n  userSignupRoute,\n  userLoginRoute,\n} from \"routes/pageRoutes\";\nimport { useNavigate } from \"react-router-dom\";\n// import  {useLoginUser} from \"query/userQueries/useLoginUser\"\n\nconst Navbar: React.FC = () => {\n  const [formSelect, setformSelect] = React.useState<string | null>(\"login\");\n  const { userData, clearUser } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const userToken = localStorage.getItem(\"token\");\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"email\");\n    clearUser();\n    navigate(\"/login\", { replace: true });\n    window.location.reload();\n  };\n\n  const handleAlignment = (\n    event: React.MouseEvent<HTMLElement>,\n    newAlignment: string | null\n  ) => {\n    setformSelect(newAlignment);\n  };\n  return (\n    <NavbarContainer maxWidth=\"xl\">\n      <BrandName>iFinance</BrandName>\n\n      {userToken ? (\n        <ButtonGroup variant=\"outlined\" aria-label=\"outlined button group\">\n          <StyleLink to={dashboardRoute}>\n            <Button>Over All</Button>\n          </StyleLink>\n          <StyleLink to={dashboardIncomeRoute}>\n            <Button>Incomes</Button>\n          </StyleLink>\n          <StyleLink to={dashboardExpensesRoute}>\n            <Button>Expenses</Button>\n          </StyleLink>\n          <StyleLink to={dashboardInvestmentsRoute}>\n            <Button>Investments</Button>\n          </StyleLink>\n        </ButtonGroup>\n      ) : (\n        <ToggleButtonGroup\n          value={formSelect}\n          onChange={handleAlignment}\n          aria-label=\"form select\"\n        >\n          <StyleLink to={userSignupRoute}>\n            <ToggleButton value=\"sign up\" aria-label=\"sign up\">\n              sign up\n            </ToggleButton>\n          </StyleLink>\n          <StyleLink to={userLoginRoute}>\n            <ToggleButton value=\"login\" aria-label=\"login\">\n              login\n            </ToggleButton>\n          </StyleLink>\n        </ToggleButtonGroup>\n      )}\n\n      {userData?.token && (\n        <LogoutButton onClick={handleLogout}>Logout</LogoutButton>\n      )}\n    </NavbarContainer>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"kHAAA,MAAOA,MAAP,EAA2BC,UAA3B,KAA6C,OAA7C,CACA,OAASC,SAAT,CAAoBC,eAApB,CAAqCC,SAArC,CAAgDC,YAAhD,KAAoE,UAApE,CACA,OACEC,iBADF,CAEEC,WAFF,CAGEC,MAHF,CAIEC,YAJF,KAKO,eALP,CAMA,MAAOC,YAAP,KAAwB,qBAAxB,CACA,OACEC,oBADF,CAEEC,sBAFF,CAGEC,yBAHF,CAIEC,cAJF,CAKEC,eALF,CAMEC,cANF,KAOO,mBAPP,CAQA,OAASC,WAAT,KAA4B,kBAA5B,CACA;wFAEA,GAAMC,OAAgB,CAAG,QAAnBA,OAAmB,EAAM,CAC7B,oBAAoClB,KAAK,CAACmB,QAAN,CAA8B,OAA9B,CAApC,oDAAOC,UAAP,qBAAmBC,aAAnB,qBACA,gBAAgCpB,UAAU,CAACS,WAAD,CAA1C,CAAQY,QAAR,aAAQA,QAAR,CAAkBC,SAAlB,aAAkBA,SAAlB,CACA,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CACA,GAAMQ,UAAS,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAlB,CACA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzBF,YAAY,CAACG,UAAb,CAAwB,OAAxB,EACAH,YAAY,CAACG,UAAb,CAAwB,OAAxB,EACAN,SAAS,GACTC,QAAQ,CAAC,QAAD,CAAW,CAAEM,OAAO,CAAE,IAAX,CAAX,CAAR,CACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAND,CAQA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CACtBC,KADsB,CAEtBC,YAFsB,CAGnB,CACHf,aAAa,CAACe,YAAD,CAAb,CACD,CALD,CAMA,mBACE,MAAC,eAAD,EAAiB,QAAQ,CAAC,IAA1B,wBACE,KAAC,SAAD,uBADF,CAGGX,SAAS,cACR,MAAC,WAAD,EAAa,OAAO,CAAC,UAArB,CAAgC,aAAW,uBAA3C,wBACE,KAAC,SAAD,EAAW,EAAE,CAAEX,cAAf,uBACE,KAAC,MAAD,uBADF,EADF,cAIE,KAAC,SAAD,EAAW,EAAE,CAAEH,oBAAf,uBACE,KAAC,MAAD,sBADF,EAJF,cAOE,KAAC,SAAD,EAAW,EAAE,CAAEC,sBAAf,uBACE,KAAC,MAAD,uBADF,EAPF,cAUE,KAAC,SAAD,EAAW,EAAE,CAAEC,yBAAf,uBACE,KAAC,MAAD,0BADF,EAVF,GADQ,cAgBR,MAAC,iBAAD,EACE,KAAK,CAAEO,UADT,CAEE,QAAQ,CAAEc,eAFZ,CAGE,aAAW,aAHb,wBAKE,KAAC,SAAD,EAAW,EAAE,CAAEnB,eAAf,uBACE,KAAC,YAAD,EAAc,KAAK,CAAC,SAApB,CAA8B,aAAW,SAAzC,qBADF,EALF,cAUE,KAAC,SAAD,EAAW,EAAE,CAAEC,cAAf,uBACE,KAAC,YAAD,EAAc,KAAK,CAAC,OAApB,CAA4B,aAAW,OAAvC,mBADF,EAVF,GAnBJ,CAqCG,CAAAM,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEe,KAAV,gBACC,KAAC,YAAD,EAAc,OAAO,CAAET,YAAvB,oBAtCJ,GADF,CA2CD,CA9DD,CAgEA,cAAeV,OAAf"},"metadata":{},"sourceType":"module"}