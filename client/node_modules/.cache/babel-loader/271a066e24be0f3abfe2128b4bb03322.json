{"ast":null,"code":"import _regeneratorRuntime from\"/home/savera/letmefit/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/savera/letmefit/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useMutation}from\"react-query\";import axios from\"axios\";var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/user/login\"),data).then(function(_ref2){var data=_ref2.data;var token=data.token,email=data.email;localStorage.setItem(\"token\",token);localStorage.setItem(\"email\",email);return data;}));case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();var useLoginUser=function useLoginUser(){return useMutation(handleLogin);};export default useLoginUser;","map":{"version":3,"names":["useMutation","axios","handleLogin","data","post","process","env","REACT_APP_API_URL","then","token","email","localStorage","setItem","useLoginUser"],"sources":["/home/savera/letmefit/client/src/query/userQueries/useLoginUser.ts"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { useMutation } from \"react-query\";\nimport axios from \"axios\";\nimport { UserSignupData } from \"../types\";\nimport AuthContext from \"context/AuthContext\";\n\nconst handleLogin = async (data: UserSignupData) => {\n  return axios\n    .post(`${process.env.REACT_APP_API_URL}/user/login`, data)\n    .then(({ data }) => {\n      const { token, email } = data;\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\"email\", email);\n      return data;\n    });\n};\n\nconst useLoginUser = () => {\n  return useMutation(handleLogin);\n};\n\nexport default useLoginUser;\n"],"mappings":"oPACA,OAASA,WAAT,KAA4B,aAA5B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAIA,GAAMC,YAAW,4FAAG,iBAAOC,IAAP,oJACXF,KAAK,CACTG,IADI,WACIC,OAAO,CAACC,GAAR,CAAYC,iBADhB,gBACgDJ,IADhD,EAEJK,IAFI,CAEC,eAAc,IAAXL,KAAW,OAAXA,IAAW,CAClB,GAAQM,MAAR,CAAyBN,IAAzB,CAAQM,KAAR,CAAeC,KAAf,CAAyBP,IAAzB,CAAeO,KAAf,CACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BH,KAA9B,EACAE,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,KAA9B,EACA,MAAOP,KAAP,CACD,CAPI,CADW,wDAAH,kBAAXD,YAAW,4CAAjB,CAWA,GAAMW,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzB,MAAOb,YAAW,CAACE,WAAD,CAAlB,CACD,CAFD,CAIA,cAAeW,aAAf"},"metadata":{},"sourceType":"module"}